
# دستور `find` در لینوکس

دستور `find` در لینوکس یکی از ابزارهای قدرتمند برای جستجوی فایل‌ها و دایرکتوری‌ها در سیستم فایل است. این دستور قابلیت‌های بسیار زیادی دارد و می‌تواند بر اساس معیارهای مختلفی مانند نام فایل، نوع فایل، اندازه، زمان ایجاد یا تغییر، مالکیت، مجوزها و غیره جستجو کند.

## ساختار پایه دستور find

ساختار کلی دستور `find` به صورت زیر است:

```bash
find [مسیر_شروع] [گزینه‌ها] [شرایط] [اقدامات]
```

1. **مسیر شروع**: مسیر دایرکتوری که جستجو از آن شروع می‌شود. اگر این بخش خالی باشد، `find` از دایرکتوری جاری شروع به جستجو می‌کند.
2. **گزینه‌ها**: تنظیماتی که رفتار کلی جستجو را تعیین می‌کنند.
3. **شرایط**: معیارهایی که فایل‌ها باید برای نمایش داده شدن برآورده کنند.
4. **اقدامات**: عملیاتی که بر روی فایل‌های پیدا شده انجام می‌شود، مانند نمایش، حذف، جابجایی و غیره.

## برخی از گزینه‌ها و شرایط رایج

- **-name**: جستجو بر اساس نام فایل.
  ```bash
  find /path/to/dir -name "*.txt"
  ```
  جستجو برای تمام فایل‌های با پسوند `.txt` در دایرکتوری مشخص شده.

- **-type**: جستجو بر اساس نوع فایل. `f` برای فایل‌ها و `d` برای دایرکتوری‌ها.
  ```bash
  find /path/to/dir -type f -name "*.log"
  ```
  جستجو برای فایل‌های لاگ (`.log`) در دایرکتوری مشخص شده.

- **-size**: جستجو بر اساس اندازه فایل. `+` یا `-` برای بیشتر یا کمتر بودن از اندازه مشخص.
  ```bash
  find /path/to/dir -size +100M
  ```
  جستجو برای فایل‌های بزرگتر از 100 مگابایت.

- **-mtime**: جستجو بر اساس زمان آخرین تغییر. `+` یا `-` برای بیشتر یا کمتر بودن از تعداد روز مشخص.
  ```bash
  find /path/to/dir -mtime -7
  ```
  جستجو برای فایل‌هایی که در 7 روز گذشته تغییر کرده‌اند.

- **-user**: جستجو بر اساس مالک فایل.
  ```bash
  find /path/to/dir -user username
  ```
  جستجو برای فایل‌های متعلق به کاربر مشخص.

## برخی اقدامات رایج

- **-exec**: اجرای دستوری بر روی هر فایل پیدا شده. `{}` به عنوان جایگزین فایل‌های پیدا شده استفاده می‌شود و `\;` برای پایان دستور.
  ```bash
  find /path/to/dir -name "*.log" -exec rm {} \;
  ```
  حذف تمام فایل‌های با پسوند `.log` در دایرکتوری مشخص شده.

- **-print**: نمایش مسیر فایل‌های پیدا شده. این گزینه به طور پیش‌فرض در دستور `find` وجود دارد و نیازی به افزودن آن نیست.

- **-delete**: حذف فایل‌های پیدا شده.
  ```bash
  find /path/to/dir -name "*.tmp" -delete
  ```
  حذف تمام فایل‌های موقت با پسوند `.tmp`.

## مثال‌های کاربردی

1. **جستجوی تمام فایل‌های بزرگتر از 1 گیگابایت در سیستم:**
   ```bash
   find / -size +1G
   ```

2. **پیدا کردن و حذف فایل‌های موقت قدیمی‌تر از 30 روز:**
   ```bash
   find /tmp -name "*.tmp" -mtime +30 -delete
   ```

3. **تغییر مجوزهای دسترسی برای فایل‌های مشخص:**
   ```bash
   find /path/to/dir -name "*.sh" -exec chmod 755 {} \;
   ```

دستور `find` ابزار بسیار کارآمدی برای مدیریت و جستجوی فایل‌ها در سیستم‌های لینوکسی است و با ترکیب شرایط و اقدامات مختلف می‌توان کارهای پیچیده‌ای را انجام داد.
