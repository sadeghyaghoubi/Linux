## چرا باید فایل‌سیستم‌ها را به `/etc/fstab` اضافه کنیم؟

**مدیریت خودکار**: 
فایل `/etc/fstab` به سیستم‌عامل کمک می‌کند تا فایل‌سیستم‌ها را به طور خودکار در هنگام بوت شدن متصل کند. این به معنای این است که نیازی به وارد کردن دستورات `mount` به صورت دستی نخواهید داشت.

**پیکربندی ثابت**: 
با تعریف فایل‌سیستم‌ها در `/etc/fstab`، می‌توانید پیکربندی‌های ثابت و پایدار برای نقاط وصل و گزینه‌های مختلف داشته باشید. این کار باعث می‌شود که تنظیمات در طول زمان حفظ شوند و از تغییرات تصادفی جلوگیری شود.

**پشتیبانی از سیستم‌های چندگانه**: 
اگر سیستم شما به چندین پارتیشن یا دستگاه ذخیره‌سازی متصل است، استفاده از `/etc/fstab` برای مدیریت این فایل‌سیستم‌ها به شما کمک می‌کند تا به راحتی نقاط وصل و گزینه‌های مختلف را مدیریت کنید.

**بازگرداندن سیستم**: 
در صورت نیاز به بازیابی یا تغییرات در فایل‌سیستم‌ها، داشتن فایل‌سیستم‌های پیکربندی شده در `/etc/fstab` کمک می‌کند تا تغییرات را به راحتی اعمال کنید و از اختلالات در عملیات بوت جلوگیری کنید.


## نحوه ویرایش فایل `/etc/fstab`

برای ویرایش فایل `/etc/fstab`, باید از یک ویرایشگر متن با دسترسی ریشه (root) استفاده کنید. به عنوان مثال، با استفاده از `nano`:

```bash
sudo vim /etc/fstab
```


# فایل `/etc/fstab` در لینوکس

فایل `/etc/fstab` در سیستم‌عامل‌های لینوکس و یونیکس، یک فایل پیکربندی است که به سیستم‌عامل می‌گوید چگونه و کجا باید فایل‌سیستم‌ها را به طور خودکار متصل (mount) کند. این فایل برای مدیریت خودکار فایل‌سیستم‌ها و دستگاه‌های ذخیره‌سازی در طول بوت سیستم و همچنین در زمان اجرای دستورات `mount` به کار می‌رود.



## ساختار فایل `/etc/fstab`

فایل `/etc/fstab` شامل اطلاعاتی درباره فایل‌سیستم‌ها و نقاط وصل (mount points) است. هر خط از این فایل نشان‌دهنده یک فایل‌سیستم است و دارای شش فیلد اصلی است که با فضا یا تب از هم جدا شده‌اند. ساختار هر خط به شکل زیر است:



```bash
UUID=abcd-1234 / ext4 defaults 0 1
/dev/sda1 /mnt/mydisk ext4 defaults,auto 0 2
/dev/sdb1 /media/usb vfat defaults,noauto 0 0
```


### توضیحات فیلدها

**دستگاه (Device)**:

   - نشان‌دهنده دستگاه ذخیره‌سازی یا فایل‌سیستم است. این می‌تواند به صورت `/dev/sda1` (برای پارتیشن‌ها) یا UUID (شناسه منحصر به فرد فایل‌سیستم) باشد.
   - مثال: `/dev/sda1` یا `UUID=abcd-1234`.

**نقطه_وصل (Mount Point)**:

   - دایرکتوری‌ای که فایل‌سیستم در آن متصل می‌شود. این نقطه باید در سیستم فایل وجود داشته باشد.
   - مثال: `/mnt/mydisk` یا `/`.

**نوع_فایل‌سیستم (Filesystem Type)**:

   - نوع فایل‌سیستم استفاده شده در دستگاه. انواع رایج شامل `ext4`, `xfs`, `ntfs`, `vfat`, و غیره هستند.
   - مثال: `ext4` یا `ntfs`.

**گزینه‌ها (Options)**:

   - گزینه‌های پیکربندی برای فایل‌سیستم، مانند `defaults`, `ro` (خواندنی فقط), `rw` (خواندنی و نوشتنی), `noexec` (اجازه اجرا به فایل‌ها نمی‌دهد) و غیره.
   - مثال: `defaults`, `ro`.

**dump**:
   - عددی که تعیین می‌کند آیا فایل‌سیستم باید توسط دستور `dump` پشتیبان‌گیری شود یا خیر. معمولاً `0` به معنای غیرفعال بودن و `1` به معنای فعال بودن است.
   - مثال: `0` یا `1`.

**pass**:
   - عددی که ترتیب بررسی فایل‌سیستم‌ها توسط دستور `fsck` (بررسی و تعمیر فایل‌سیستم) را مشخص می‌کند. `0` به معنای عدم بررسی و مقادیر دیگر به ترتیب بررسی است.
   - مثال: `0`, `1`, `2`.



## مثال از فایل `/etc/fstab`

در زیر یک مثال ساده از فایل `/etc/fstab` آورده شده است:


```bash
UUID=abcd-1234 / ext4 defaults 0 1
/dev/sda1 /mnt/mydisk ext4 defaults,auto 0 2
/dev/sdb1 /media/usb vfat defaults,noauto 0 0
```


- **خط اول**: متصل کردن فایل‌سیستم با UUID خاص به نقطه وصل `/` (ریشه سیستم). نوع فایل‌سیستم `ext4` است و گزینه‌های پیش‌فرض استفاده شده‌اند.
- **خط دوم**: متصل کردن پارتیشن `/dev/sda1` به نقطه وصل `/mnt/mydisk` با نوع فایل‌سیستم `ext4`.
- **خط سوم**: متصل کردن پارتیشن `/dev/sdb1` به نقطه وصل `/media/usb` با نوع فایل‌سیستم `vfat`. این پارتیشن تنها در صورت درخواست (`noauto`) متصل می‌شود.



